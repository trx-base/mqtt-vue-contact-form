<html>
  <head>
      <title>Demo: mqtt-vue-contact-form</title>
    <script src="lib/vue.global.js"></script>
    <script src="lib/mqtt.js"></script>
    <script type="module"></script>
  </head>
  <body>
    <h1>mqtt-vue-contact-form</h1>
    <div id="MqttVueContactForm">
      <Component
        :mqtt-host="mqttHost"
        :mqtt-topic="mqttTopic"
        :mqtt-username="mqttUsername"
        :mqtt-password="mqttPassword"
        v-slot="slotProps"
      >
        <label>Name:</label><br />
        <input v-model="slotProps.data.values.name" /><br />

        <label>Email:</label><br />
        <input v-model="slotProps.data.values.email" /><br />

        <label>Message:</label><br />
        <textarea v-model="slotProps.data.values.message"></textarea><br />

        <button @click="slotProps.data.actions.submit.execute" :disabled="slotProps.data.actions.submit.disabled">Submit</button><br />
        <div v-text="slotProps.data.messages.general"></div>
      </Component>
    </div>
  </body>
  <script type="module">
    // import Component from "https://unpkg.com/@trx-base/mqtt-vue-contact-form";  //production
    import Component from "./src/component.js";
    Vue.createApp({
      components: { Component },
      data() {
        return {
          mqttHost: "wss://public.trxbroker.org/mqtt",
          mqttTopic: "demo",
          mqttUsername: "mqtt-vue-contact-form",
          mqttPassword: "o8qIQJ5xbzT3Wy2G"
        };
      },
    }).mount("#MqttVueContactForm");
  </script>
</html>
