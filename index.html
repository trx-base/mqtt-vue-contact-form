<html>
  <head>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script type="module"></script>
  </head>
  <body>
    <h1>mqtt-vue-contact-form</h1>
    <div id="MqttVueContactForm">
      <Component :mqtt-host="mqttHost" v-slot="slotProps">
        <label>Name:</label><br />
        <input v-model="form.name" name="fullName" /><br />

        <label>Email:</label><br />
        <input v-model="form.email" name="email" /><br />

        <label>Message:</label><br />
        <textarea v-model="form.message" name="message"></textarea><br />

        <button @click="slotProps.submit(form)">Submit</button>
      </Component>
    </div>
  </body>
  <script type="module">
    import Component from "./dist/component.js";
    Vue.createApp({
      components: { Component },
      setup() {
        const form = {};
        const mqttHost = "ws://public.trxbroker.org:9001/mqtt";
        return { mqttHost, form };
      },
    }).mount("#MqttVueContactForm");
  </script>
</html>
